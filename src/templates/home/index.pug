extends ../layout.pug

mixin featured-news({ href = '', img = '' } = {})
  .featured-news.content-container.px-sm-0
    .container.featured-news__inner
      h2.featured-news__heading
        a.brand-link(href="#") Интервью с победителями международной олимпиады по химии

      img.featured-news__icon.ml-3(src=img)

mixin content-info(items = [])
  if items.length
    footer.content-info&attributes(attributes)
      each item, index in items
        if index
          span.content-info__separator •
        if (item.link)
          a.content-info__item.brand-link(href=item.link)= item.name
        else
          span.content-info__item= name


mixin label({ link, name = '' } = {})
  if name
    if link
      a.label(href=link)&attributes(attributes)= name
    else
      span.label&attributes(attributes)= name

mixin module({ title, link, img, label = {}, contentInfo = [] } = {})
  article.module&attributes(attributes)
    +label(label).module__label

    a.module__img-link(href=link)
      .module__img(style=`background-image: url('${img}');`)
      img.module__img-height-fix(src=img)

    .module__content
      h2.module__heading
        a.module__link(href=link)!= title

      +content-info(contentInfo)(class='content-info--large module__content-info')

mixin short-news({ title, link, contentInfo = []} = {})
  article.short-news
    +content-info(contentInfo)(class="content-info--small short-news__content-info text-uppercase")

    h3.short-news__heading
      a.brand-link(href=link)!= title

mixin special-news({ title, link, img = '', contentInfo = [] } = {})
  article.special-news.media&attributes(attributes)
    a.img-link.align-self-center.mr-3(href=link)
      img.special-news__img(src=img alt='')

    .media-body
      +content-info(contentInfo)(class='content-info--large c-white')

      h2.h2.mt-3
        a.brand-link(href=link) Ольга Славникова — о Хокинге, уральском мифе и своих новых романах

mixin subscription-form
  section.subscription&attributes(attributes)
    .subscription__inner.container
      .row
        .col-12.col-xl-auto.text-center
          h2.subscription__heading
          | Подпишитесь на нашу рассылку
          img.subscription__arrow(src='/imgs/icons/arrow-down.svg')

        .col-12.col-md-8.col-xl
          input.input-text.subscription__input(type='text' placeholder='Оставьте вашу электронную почту')

        .col-12.col-md-4.col-xl
          button.subscription__btn Подписаться

mixin accent({ link, title } = {})
  a.accent.brand-link(href=link)&attributes(attributes)= title

block title
  title= pageTitle

block content
  +featured-news({ href: '#', img: '/imgs/stickers/medal.png' })

  .container.mt-1px.mt-md-3
    .grid.grid--small-gaps.grid--lg-modules

      .grid__item.align-content-md-start.col-12.col-lg-9.height-fix
        .grid.grid--small-gaps.grid--lg-modules.flex-auto
          .grid__item.col-12.col-md-6.col-xl-12.height-fix
            +module(modules1[0])(class='module--lg-wide module--lg-full-img flex-auto')
          each index in [1, 2, 3]
            .grid__item.col-12.col-md-6.col-xl-4.height-fix
              +module(modules1[index])(class='flex-auto')


      .grid__item.col-12.col-lg-3.height-fix
        .grid.grid--small-gaps.flex-column.flex-auto
          each item in shortNewsList
            .grid__item
              +short-news(item)

          .grid__item.d-lg-flex.flex-auto
            .show-more.show-more--reversed-colors
              a.show-more__link.text-uppercase(href='#') Больше новостей

  .container.mt-1px.mt-md-4
    .position-relative
      .hr
      a.label.position-absolute(href='#') день рождения стивена хокинга

    .content-container.px-sm-0.row
      .col-12.col-xl-6.align-self-md-end.mt-5.pr-xl-4.c-white
        - contentInfo = [{ name: 'Роман Навескин', link: '#' }, { name: '17 июля', link: '#' }]
        +content-info(contentInfo)(class='content-info--large c-white mb-3')

        .h1
          a.brand-link(href='#') Стивен Хокинг — о восстановлении экспериментальной физики в России

      .col-12.col-xl-6
        each item, index in specialNewsList
          if index
            .hr.mt-4(style='margin-left: 95px;')
          +special-news(item)(class='mt-4 c-white')

  .container.mt-5
    .grid.grid--small-gaps.grid--lg-modules
      .grid__item.col-12.col-md-6.height-fix
        +module(modules2[0])(class='flex-auto module--lg-large')
      .grid__item.col-12.col-md-6.height-fix
        +module(modules2[1])(class='flex-auto module--lg-large module--lg-full-img module--lg-theme-light')
      .grid__item.col-12.col-md-12
        +module(modules2[2])(class='module--lg-wide module--lg-full-img')

  +subscription-form(class='mt-1px mt-md-4')

  .container.mt-1px.mt-md-4
    .grid.grid--small-gaps.grid--lg-modules
      .grid__item.col-12.col-md-4.height-fix
        +module(modules3[0])(class='flex-auto')
      .grid__item.col-12.col-md-4.height-fix
        +module(modules3[1])(class='flex-auto module--lg-full-img module--lg-theme-light')
      .grid__item.col-12.col-md-4.height-fix
        +module(modules3[2])(class='flex-auto')

  .container.mt-1px.mt-md-3
    .grid.grid--small-gaps.grid--lg-accent.accent-list
      each index in [0, 1, 2, 3]
        .grid__item
          +accent(accentList[index])(class='accent--large')

      //- Separate large and regular 'accent'.
      .grid__item.p-0.w-100.m-0

      each index in [4, 5, 6, 7]
        .grid__item
          +accent(accentList[index])

  .container.mt-1px.mt-md-3
    .grid.grid--small-gaps.grid--lg-modules
      .grid__item.col-12.col-md-6.height-fix
        +module(modules4[0])(class='flex-auto module--lg-large module--lg-full-img')
      .grid__item.col-12.col-md-6.height-fix
        +module(modules4[1])(class='flex-auto module--lg-large')
      .grid__item.col-12.col-md-12
        +module(modules4[2])(class='flex-auto module--lg-wide module--lg-full-img module--lg-theme-light')

  .container.mt-1px.mt-md-4
    .position-relative
      .hr
      a.label.position-absolute(href='#') день рождения стивена хокинга

    .content-container.px-sm-0.row
      .col-12.col-xl-6.align-self-md-end.mt-5.pr-xl-4.c-white
        - contentInfo = [{ name: 'Наталья Белоусова', link: '#' }, { name: '11 июля', link: '#' }]
        +content-info(contentInfo)(class='content-info--large c-white mb-3')

        .h1
          a.brand-link(href='#') 8 вещей, которыеделают нас непривлекательными в глазах других

      .col-12.col-xl-6
        each item, index in specialNewsList2
          if index
            .hr.mt-4(style='margin-left: 95px;')
          +special-news(item)(class='mt-4 c-white')

  .container.mt-5
    .grid.grid--small-gaps.grid--lg-modules
      .grid__item.col-12.col-md-4.height-fix
        +module(modules5[0])(class='flex-auto')
      .grid__item.col-12.col-md-4.height-fix
        +module(modules5[1])(class='flex-auto')
      .grid__item.col-12.col-md-4.height-fix
        +module(modules5[2])(class='flex-auto module--lg-full-img module--lg-theme-light')

  .container
    .grid.grid--small-gaps.grid--lg-modules
      .grid__item.col-12.col-md-6.height-fix
        +module(modules6[0])(class='flex-auto module--lg-large module--lg-full-img module--lg-theme-light')
      .grid__item.col-12.col-md-6.height-fix
        +module(modules6[1])(class='flex-auto module--lg-large')

  .container.mt-md-4
    .position-relative.mb-5
      .hr
      span.label.position-absolute Сториз

    //- d-block is hack for ie 10
    #stories.grid.grid--force-small-gaps.grid--lg-force-modules.d-block.stories
      each item in stories
        .grid__item
          +module(item)(class='module--story stories__story')
