extends ../layout.pug

mixin featured-news({ href = '', img = '' } = {})
  .featured-news.content-container.px-sm-0
    .container.featured-news__inner
      h2.featured-news__heading
        a.brand-link(href="#") Интервью с победителями международной олимпиады по химии

      img.featured-news__icon.ml-3(src=img)

mixin content-info(items = [])
  if items.length
    footer.content-info&attributes(attributes)
      each item, index in items
        if index
          span.content-info__separator •
        if (item.link)
          a.content-info__item.brand-link(href=item.link)= item.name
        else
          span.content-info__item= name


mixin label(link, name)
  if (link)
    a.label(href=link)&attributes(attributes)= name
  else
    span.label&attributes(attributes)= name

mixin module({ title, link, img, label = {}, contentInfo = [] } = {})
  article.module&attributes(attributes)
    +label(label.link, label.name).module__label

    a.module__img-link(href=link)
      .module__img(style=`background-image: url('${img}');`)
      img.module__img-height-fix(src=img)

    .module__content
      h2.module__heading
        a.module__link(href=link)= title

      +content-info(contentInfo)(class='content-info--large module__content-info')

mixin short-news({ title, link, contentInfo = []} = {})
  article.short-news
    +content-info(contentInfo)(class="content-info--small short-news__content-info text-uppercase")

    h3.short-news__heading
      a.brand-link(href=link)!= title

mixin special-news({ title, link, img = '', contentInfo = [] } = {})
  article.special-news.media
    a.img-link.align-self-center.mr-3(href=link)
      img.special-news__img(src=img alt='')

    .media-body
      +content-info(contentInfo)(class='content-info--large c-white')

      h2.h2.mt-3
        a.brand-link(href=link) Ольга Славникова — о Хокинге, уральском мифе и своих новых романах

block title
  title= pageTitle

block content
  +featured-news({ href: '#', img: '/imgs/stickers/medal.png' })

  .container.mt-1px.mt-md-3
    .grid.grid--small-gaps.grid--lg-modules

      .grid__item.align-content-md-start.col-12.col-lg-9.height-fix
        .grid.grid--small-gaps.grid--lg-modules.flex-auto
          .grid__item.col-12.col-md-6.col-xl-12.height-fix
            +module(modules1[0])(class='module--lg-wide module--lg-full-img flex-auto')
          each index in [1, 2, 3]
            .grid__item.col-12.col-md-6.col-xl-4.height-fix
              +module(modules1[index])(class='flex-auto')


      .grid__item.col-12.col-lg-3.height-fix
        .grid.grid--small-gaps.flex-column.flex-auto
          each item in shortNewsList
            .grid__item
              +short-news(item)

          .grid__item.d-lg-flex.flex-auto
            .show-more.show-more--reversed-colors
              a.show-more__link.text-uppercase(href='#') Больше новостей

  .container.mt-1px.mt-md-4
    .position-relative
      .hr
      a.label.position-absolute(href='#') день рождения стивена хокинга

    .content-container.px-sm-0.row
      .col-12.col-xl-6.align-self-md-end.mt-5.pr-xl-4.c-white
        - const contentInfo = [{ name: 'Роман Навескин', link: '#' }, { name: '17 июля', link: '#' }]
        +content-info(contentInfo)(class='content-info--large c-white mb-3')

        .h1
          a.brand-link(href='#') Стивен Хокинг — о восстановлении экспериментальной физики в России

      <div class="col-12 col-xl-6">
        <article class="special-news media c-white mt-4">
          <a href="#" class="img-link align-self-center mr-3">
            <img class="special-news__img" src="src/assets/imgs/stickers/diamond.png" alt="">
          </a>

          <div class="media-body">
            <footer class="content-info content-info--large c-white">
              <a class="brand-link content-info__item">Иван Шипнигов</a>
              <span class="content-info__separator">•</span>
              <a class="content-info__item brand-link" href="#">19 июля</a>
            </footer>

            <h2 class="h2 mt-3">
              <a class="brand-link" href="#">Ольга Славникова — о Хокинге, уральском мифе и своих новых романах</a>
            </h2>
            <div class="hr mt-4"></div>
          </div>
        </article>

        <article class="special-news media c-white mt-4">
          <a href="#" class="img-link align-self-center mr-3">
            <img class="special-news__img" src="src/assets/imgs/stickers/face.png" alt="">
          </a>

          <div class="media-body">
            <footer class="content-info content-info--large c-white">
              <a class="brand-link content-info__item">Иван Шипнигов</a>
              <span class="content-info__separator">•</span>
              <a class="content-info__item brand-link" href="#">18 июля</a>
            </footer>

            <h2 class="h2 mt-3">
              <a class="brand-link" href="#">Денис Драгунский — о том, как бы вел себя Хокинг в русском фейсбуке</a>
            </h2>
            <div class="hr mt-4"></div>
          </div>
        </article>

        <article class="special-news media c-white mt-4">
          <a href="#" class="img-link align-self-center mr-3">
            <img class="special-news__img" src="src/assets/imgs/stickers/explosion.png" alt="">
          </a>

          <div class="media-body">
            <footer class="content-info content-info--large c-white">
              <a class="brand-link content-info__item">Иван Шипнигов</a>
              <span class="content-info__separator">•</span>
              <a class="content-info__item brand-link" href="#">16 июля</a>
            </footer>

            <h2 class="h2 mt-3">
              <a class="brand-link" href="#">Илья Найшуллер — о прогрессивной роли порнографии, плоскогубцах и носе Хокинга</a>
            </h2>
          </div>
        </article>
      </div>
